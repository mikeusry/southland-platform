# Shopify App - Claude Context

Remix-based Shopify embedded app for Southland Organics.

## Quick Reference

| Item | Value |
|------|-------|
| **Framework** | Remix (React Router v7 compatible) |
| **Type** | Shopify Embedded App |
| **Database** | Prisma + SQLite (dev) |
| **Port** | Dynamic (Shopify CLI) |

## Current Status

This app is scaffolded from the Shopify Remix template but not actively developed. Primary focus is on the `astro-content` app for the headless migration.

## Purpose

Future use cases:
- Custom admin UI for Southland-specific operations
- Bulk product management tools
- Integration with CDP/BigQuery for customer insights
- Order management extensions

## Key Files

| File | Purpose |
|------|---------|
| `app/shopify.server.ts` | Shopify API configuration |
| `app/routes/app._index.tsx` | Main app route |
| `prisma/schema.prisma` | Database schema |
| `shopify.app.toml` | App configuration |

## Development

```bash
# Start dev server (requires Shopify Partner account)
cd apps/shopify-app
shopify app dev

# Generate Prisma client
pnpm prisma generate

# Push schema changes
pnpm prisma db push
```

## Authentication

The app uses Shopify OAuth. Authentication is handled automatically by `@shopify/shopify-app-remix`.

```typescript
// In any route loader
export async function loader({ request }) {
  const { admin } = await shopify.authenticate.admin(request);
  // Use admin.graphql() to query Shopify
}
```

## Webhooks

Webhooks are defined in `shopify.app.toml` and handled in `app/routes/webhooks.*.tsx`.

## Relationship to Other Apps

```
southland-platform/
├── apps/
│   ├── astro-content/    # PUBLIC SITE (podcast, blog, future commerce)
│   └── shopify-app/      # ADMIN APP (internal tools, future)
├── packages/
│   ├── ui-react/         # Shared components (used by both)
│   ├── ui-schema/        # Shared types (used by both)
│   └── ui-tokens/        # Design tokens (used by both)
```

## Notes

- Not currently deployed to production
- README contains template documentation from Shopify
- Will be developed further after headless migration Phase 1 completes
