---
import BaseLayout from './BaseLayout.astro'
import Breadcrumbs from '../components/shared/Breadcrumbs.astro'

interface Props {
  title: string
  description: string
  ogImage?: string
  canonicalUrl?: string
  schema?: object
  breadcrumbs?: Array<{ label: string; href: string }>
  showBreadcrumbs?: boolean
}

const {
  title,
  description,
  ogImage,
  canonicalUrl,
  schema,
  breadcrumbs = [],
  showBreadcrumbs = true,
} = Astro.props

// Default breadcrumbs for podcast section
const defaultBreadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'Podcast', href: '/podcast/' },
]

const allBreadcrumbs = [...defaultBreadcrumbs, ...breadcrumbs]
---

<BaseLayout
  title={`${title} | Ag & Culture Podcast`}
  description={description}
  ogImage={ogImage}
  ogType="video.episode"
  canonicalUrl={canonicalUrl}
  schema={schema}
>
  <div class="min-h-screen bg-brand-gray">
    {
      showBreadcrumbs && breadcrumbs.length > 0 && (
        <div class="border-b border-gray-100 bg-white">
          <div class="mx-auto max-w-7xl px-4 py-3 sm:px-6 lg:px-8">
            <Breadcrumbs items={allBreadcrumbs} />
          </div>
        </div>
      )
    }

    <slot />
  </div>
</BaseLayout>
